<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.2.1 (452715)"/><meta name="author" content="scarecroweib"/><meta name="created" content="2014-08-25 06:02:50 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2014-08-25 06:23:46 +0000"/><meta name="application-data:corenote-localUUID" content="E84B4BFB-7C7B-4D8D-A432-2E1C7E0FE443"/><meta name="application-data:corenote-hostUUID" content="0C39B319-E694-4162-9C47-E1D5E1C3DF44"/><title>｛学习｝使用session（with cookie）</title></head><body><div>1.配置</div><div># Secret key<br clear="none"/># ~~~~~<br clear="none"/># The secret key is used to secure cryptographics functions<br clear="none"/># If you deploy your application to several instances be sure to use the same key !<br clear="none"/>application.secret=j2T64eaznxch3cGJXcLeqIv4vQv2ZUO9RonzLHEUhW2U7D2LbffCHnk2wwaIoXgC</div><div><br clear="none"/></div><div># Session configuration<br clear="none"/># ~~~~~~~~~~~~~~~~~~~~~~<br clear="none"/># By default, session will be written to the transient PLAY_SESSION cookie.<br clear="none"/># The cookies are not secured by default, only set it to true<br clear="none"/># if you're serving your pages through https.<br clear="none"/>application.session.cookie=WEIB       在Cookie中存储时的key<br clear="none"/>application.session.maxAge=1h          Cookie有效时间 <br clear="none"/>application.session.secure=false</div><div><br clear="none"/></div><div>2.使用</div><div>每一个会话开始时，playframework会自动创建一个session，并生成cookie</div><div>直接使用成员变量session，即可使用相关方法</div><div><br clear="none"/></div><div>实现跨站访问</div><div>    checkAuthenticity() 检查token<br clear="none"/>      session.getAuthenticityToken() 获取当前token<br clear="none"/>      #{authenticityToken /} 在页面添加一个token的隐藏input</div><div><br clear="none"/></div><div>    实现跨站访问时通过<span>#{authenticityToken /}实现session的跨站传递，通过checkAuthenticity() 进行检查</span></div><div><span><br clear="none"/></span></div><div><span style="color: rgb(255, 0, 0);"><strong>注：不要将session当作Cache来使用。</strong></span></div></body></html>